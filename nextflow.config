import java.time.*
Date now = new Date()

manifest {
    name = 'test'
    homePage = 'test'
    description = 'test'
    mainScript = 'main.nf'
    nextflowVersion = '>=19.09.0-edge'
    version = '1.0.0'
}

params {
    patients_inventory = 'data/inventory/inventory_patients_tcga.csv'
    analysis_inventory = 'data/inventory/inventory_analysis_tcga_short.csv'
    /* blacklist_inventory = 'data/inventory/inventory_blacklist_tcga.csv' */
    /* In order to do analysis without black & white lists regions */
    blacklist_inventory = ''

    assets_dir = 'data/assets/'
    target_genome_version = 'hg19'
    target_genome_path = 'data/assets/reference_genome/hg19.fa'
    chain = 'data/assets/reference_genome/hg38ToHg19.over.chain'

    min_depth = 30
    min_tumor_vac = 10
    min_tumor_vaf = 5
    max_germline_vaf = 1
    max_germline_vac = 5
    max_n_vars = 90000

    ignore_strand = 'T'
    min_reg_len = 5
    output = 'TEST/'

    cores = 2

    timestamp = now.format("yyyyMMdd-HH-mm-ss")
    today = now.format("yyyyMMdd")
    tracedir = "pipeline_info"
}

singularity {
  enabled = true
  autoMounts = true
}

process {
    /*
    withName:check_inventories {
        container = 'library://marialitovchenko/noncoding_driver_pipeline/r_packages.sif:latest'
    }

    withName:create_input_mutation_files {
        container = 'library://marialitovchenko/noncoding_driver_pipeline/r_packages.sif:latest'
    }

    withName:create_input_genomic_regions_files {
        container = 'library://marialitovchenko/noncoding_driver_pipeline/r_packages.sif:latest'
    }*/

    withName:mutpanning {
        container = 'library://marialitovchenko/default/mutpanning_v2:latest'
    }
}